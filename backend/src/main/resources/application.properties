spring.application.name=backend
spring.data.mongodb.uri=mongodb+srv://KavishkaUdara:grants.255@learnbook.itrkpdr.mongodb.net/socialmedia
spring.data.mongodb.database=learnbook
server.port=8081
server.address=0.0.0.0
server.error.include-message=always
server.error.include-binding-errors=always

# File upload settings
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2MB
spring.servlet.multipart.max-file-size=15MB
spring.servlet.multipart.max-request-size=20MB
upload.directory=uploads
spring.mvc.servlet.load-on-startup=1

# Improved error handling and logging
logging.level.org.springframework.web=DEBUG
logging.level.com.example.backend=DEBUG
server.error.include-stacktrace=never
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Video upload settings
video.max.duration.seconds=30
video.allowed.types=video/mp4,video/quicktime

# Security settings
spring.security.user.name=user
spring.security.user.password=password
spring.security.basic.enabled=true
spring.security.filter.order=1

# CORS settings - Expanded
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:3001,http://localhost:3002
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,HEAD
spring.web.cors.allowed-headers=*
spring.web.cors.exposed-headers=Authorization,Content-Disposition
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# Google OAuth
google.oauth.client-id=793547860619-hccacc9oqnrjiphbve9hkvbef24o6sji.apps.googleusercontent.com

# MongoDB connection settings
spring.data.mongodb.auto-index-creation=true
spring.data.mongodb.connection-pool-size=20
spring.data.mongodb.socket-timeout=5000
spring.data.mongodb.connection-timeout=10000
spring.data.mongodb.max-wait-time=10000

# Tomcat server settings
server.tomcat.threads.max=200
server.tomcat.accept-count=100
server.tomcat.max-connections=8192
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/plain
server.compression.min-response-size=1024

# Caching settings
spring.cache.type=caffeine
spring.cache.cache-names=adminStats,allPosts,userPosts,userDetails
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=300s

# Response caching
spring.web.resources.cache.period=86400
spring.web.resources.chain.cache=true

# Enable response caching
spring.http.cache.timeToLive=3600